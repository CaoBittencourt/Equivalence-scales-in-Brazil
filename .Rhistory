filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'renda_total_per.capita') %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'renda_total_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
basepadrao.pof2002 %>%
rename(cod_uf = uf,
num_seq = seq,
num_dv = dv,
cod_domc = domcl,
num_ext_renda = estrato,
fator_expansao1 = fator_set,
fator_expansao2 = fator,
qtd_morador_domc = n_morador,
renda_total = renda) -> basepadrao.pof2002_renomeada
# Registro de indivíduos
tr1_4.pof2002[[2]] %>%
rename(cod_uf = uf,
num_seq = seq,
num_dv = dv,
cod_domc = domcl,
num_ext_renda = estrato,
fator_expansao1 = fator_set,
fator_expansao2 = fator,
renda_total = renda,
cod_rel_pess_refe_uc = rel_chefe,
idade_anos = idade) -> individuos_renomeados
pof.agg(individuos = individuos_renomeados,
consumo = basepadrao.pof2002_renomeada,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(individuos_renomeados$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'renda_total_per.capita') %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'renda_total_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
# Agregação das POFs
# Nomes com base na POF 2008-2009 => Mudar nomes das variáveis nas outras POFs antes de aplicar o algoritmo
# POF 2002-2003
# setdiff(names(basepadrao.pof2002),
#         names(basepadrao.pof2008))
# Consumo
basepadrao.pof2002 %>%
rename(cod_uf = uf,
num_seq = seq,
num_dv = dv,
cod_domc = domcl,
num_ext_renda = estrato,
fator_expansao1 = fator_set,
fator_expansao2 = fator,
qtd_morador_domc = n_morador,
renda_total = renda) -> basepadrao.pof2002_renomeada
# Registro de indivíduos
tr1_4.pof2002[[2]] %>%
rename(cod_uf = uf,
num_seq = seq,
num_dv = dv,
cod_domc = domcl,
num_ext_renda = estrato,
fator_expansao1 = fator_set,
fator_expansao2 = fator,
renda_total = renda,
cod_rel_pess_refe_uc = rel_chefe,
cod_sexo = sexo,
idade_anos = idade) -> individuos_renomeados
pof.agg(individuos = individuos_renomeados,
consumo = basepadrao.pof2002_renomeada,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(individuos_renomeados$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'renda_total_per.capita') %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'renda_total_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
referencia.sem_sexo.vaz <- '`Homens: (14,110] anos`'
pof.agg(individuos = individuos_renomeados,
consumo = basepadrao.pof2002_renomeada,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(individuos_renomeados$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'renda_total_per.capita') %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'renda_total_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) %>%
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla,
instruments = share_despesas.mensais.alimentacao ~ . + renda_total_per.capita + desc_urbano + UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) %>%
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla,
instruments = . + renda_total_per.capita + desc_urbano + UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) %>%
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla,
instruments = renda_total_per.capita + desc_urbano + UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) %>%
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
renda_total_per.capita + desc_urbano + UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) %>%
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
renda_total_per.capita + desc_urbano + UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) %>%
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
. + renda_total_per.capita + desc_urbano + UF_sigla)
pof.2002_vaz_semsexo %>%
select(contains('anos'),
share_despesas.mensais.alimentacao,
despesas.mensais.totais_per.capita,
renda_total_per.capita,
desc_urbano,
UF_sigla) -> lala
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
. + renda_total_per.capita + desc_urbano + UF_sigla,
data = lala)
ivreg(formula = share_despesas.mensais.alimentacao ~ . + despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
. + renda_total_per.capita + desc_urbano + UF_sigla,
data = lala) %>%
summary(.)
ivreg(formula = share_despesas.mensais.alimentacao ~ `[0,4] anos`+`(4,9] anos`+`(9,14] anos`+`(14,110] anos`+despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
. + renda_total_per.capita + desc_urbano + UF_sigla,
data = lala) %>%
summary(.)
ivreg(formula = share_despesas.mensais.alimentacao ~ `[0,4] anos`+`(4,9] anos`+`(9,14] anos`+`(14,110] anos`+despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
. + renda_total_per.capita + desc_urbano + UF_sigla,
data = lala)
ivreg(formula = share_despesas.mensais.alimentacao ~ `[0,4] anos`+`(4,9] anos`+`(9,14] anos`+`(14,110] anos`+despesas.mensais.totais_per.capita + desc_urbano + UF_sigla |
`[0,4] anos`+`(4,9] anos`+`(9,14] anos`+`(14,110] anos` + renda_total_per.capita + desc_urbano + UF_sigla,
data = lala) %>%
summary(.)
pof.2002_vaz_semsexo %>% contains('anos')
pof.2002_vaz_semsexo %>% select(contains('anos'))
pof.2002_vaz_semsexo %>% select(contains('anos')) %>% names()
pof.2002_vaz_semsexo %>% select(contains('anos')) %>% names() %>% {glue('`{.}`')}
pof.2002_vaz_semsexo %>% select(contains('anos')) %>% names() %>% {glue('`{.}`')} %>% collapse('+')
pof.2002_vaz_semsexo %>% select(contains('anos')) %>% names() %>% {glue('`{.}`')} %>% paste(collapse = '+')
welfare.indicator = 'share_despesas.mensais.alimentacao'
expenditure = 'despesas.mensais.totais_per.capita'
iv.expenditure = 'renda_total_per.capita'
control = c('UF_sigla', 'desc_urbano')
df = pof.2002_vaz_semsexo
df %>%
select(contains('anos')) %>%
names(.) %>%
{glue('`{.}`')} %>%
paste(collapse = '+') -> classes.etarias
classes.etarias
control %>%
paste(collapse = '+') %>%
{glue('| {classes.etarias}',
'+ log({iv.expenditure})',
'- {iv.expenditure}',
'+ {.}')} -> iv
iv
control %>%
paste(collapse = '+') %>%
{glue('{welfare.indicator} ~ ',
'+ {classes.etarias}',
'+ log({expenditure})',
'- {expenditure}',
'+ {.}')} %>%
paste(iv) %>%
as.formula(.) -> iv.f
iv.f
# Estimação de Escalas de Engel e Rothbarth
source('C:/Users/Sony/Documents/GitHub/TCC/Escalas_Engel_Rothbarth.R')
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano'))
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.)
referencia.sem_sexo.vaz <- '`(14,110] anos`'
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz)
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.)
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano'))
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>% summary(.)
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>% summary(.)
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'renda_total_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.2002_vaz_semsexo %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
expenditure = 'despesas.mensais.totais_per.capita',
iv.expenditure = 'renda_total_per.capita',
control = c('UF_sigla', 'desc_urbano'))
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(.)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(.) %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = referencia.sem_sexo.vaz,
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = T) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(.) %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = '`(14,104] anos`',
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)
max(tr1_4.pof2008[[2]]$idade_anos)
tr1_4.pof2008
tr1_4.pof2008[[2]]$idade_anos
max(tr1_4.pof2008[[2]]$idade_anos)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = F) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(.) %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = '`(14,104] anos`',
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = F) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'despesas.mensais.alimentacao') %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = '`(14,104] anos`',
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = F) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'despesas.mensais.alimentacao/despesas.mensais.totais') %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = '`(14,104] anos`',
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = F) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'despesas.mensais.alimentacao') %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = '`(14,104] anos`',
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
pof.agg(individuos = tr1_4.pof2008[[2]],
consumo = basepadrao.pof2008,
lista.id_receitas.agg = id_receitas.agg,
lista.id_despesas.agg = id_despesas.agg,
lista.id_despesas.especificas = id_despesas.especificas,
faixas.etarias = c(0, 4, 9, 14, max(tr1_4.pof2008[[2]]$idade_anos)),
sexo = F) %>%
filter(!(qtd_conjuge == 0 & qtd_filhos > 0)) %>%
filter(qtd_morador_domc <= 5, qtd_filhos <= 3) %>%
lm.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao') %>%
# iv2sls.engel.rothbarth(welfare.indicator = 'share_despesas.mensais.alimentacao',
#                        expenditure = 'despesas.mensais.totais_per.capita',
#                        iv.expenditure = 'renda_total_per.capita',
#                        control = c('UF_sigla', 'desc_urbano')) %>%
lm.heteroskedasticity(.) %>%
equivalence.scales.dudel(pessoa.referencia = '`(14,104] anos`',
expenditure = 'despesas.mensais.totais_per.capita',
na.h = 2, nc.h = 1,
na.r = 2, nc.r = 0) %>%
select(term, equivalence.scale, std.error,
member.cost, p.value) %>%
mutate(p.value = p.value <= 0.05)
